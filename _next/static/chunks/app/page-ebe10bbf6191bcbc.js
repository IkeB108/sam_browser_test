(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6426:(e,t,n)=>{Promise.resolve().then(n.bind(n,7967))},7967:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{default:()=>l});var o=n(5432);function i(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function s(){return r||(r=function(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=i(n);return(e,n)=>r.then(r=>n(r.transaction(t,e).objectStore(t)))}("keyval-store","keyval")),r}var a=n(4436);function l(){let[e,t]=(0,a.useState)("Paragraph text on load.");async function n(){try{let[e]=await window.showOpenFilePicker();window.fileHandleOnRequest=e;let t=await e.requestPermission({mode:"read"});if("granted"!==t){console.log("Permission not granted.");return}await function(e,t,n=s()){return n("readwrite",n=>(n.put(t,e),i(n.transaction)))}("fileHandle",e),console.log("File handle stored successfully")}catch(e){console.error("Error requesting file access:",e)}l()}async function r(){try{let e=await function(e,t=s()){return t("readonly",t=>i(t.get(e)))}("fileHandle");if(window.fileHandleOnRestore=e,!e){console.log("No file handle found in IndexedDB");return}let n=await e.queryPermission();if("prompt"==n&&(n=await e.requestPermission()),"granted"==n){let n=await e.getFile(),r=await n.text();t("Restored file: "+r),console.log("File content:",await n.text())}else console.log("Permission to access file not granted.")}catch(e){console.error("Error restoring file access:",e)}}async function l(){navigator.storage&&navigator.storage.persist()&&console.log(await navigator.storage.persist()?"Persistent storage granted":"Persistent storage denied")}return(0,o.jsx)("div",{children:(0,o.jsxs)("main",{children:[(0,o.jsx)("p",{children:e}),(0,o.jsx)("button",{onClick:n,children:"Store file"}),(0,o.jsx)("button",{onClick:r,children:"Restore file"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[921,871,358],()=>t(6426)),_N_E=e.O()}]);